//© 2025 Maxime Météyé — Released under the MIT License
@use 'user_options/user_options' as options;

:root{
	--grid-divisions : #{options.$col_max_amount};
}

.f-container{
	display: flex;
	flex-direction: column;
}

.f-col,.f-row{
	display: flex;
	width: 100%;
	flex-wrap: wrap;
}

.f-col > *,.f-row > *{
	flex: 1;
	flex-shrink: 1;
	flex-basis: 100%;

}

.f-row >*{
	flex: 1;
}

.f-row{
	flex-direction: row;
	flex-grow: 1;
	flex-shrink: 1;
}
.f-col{
	flex-direction: column;
}


.grow-none{
	flex-grow: 0;
}

.align-content-center{
	align-content: center;
}
.align-content-left{
	align-content: left;
}
.align-content-right{
	align-content: right;
}
.justify-content-center{
	justify-content: center;
}
.justify-content-left{
	justify-content: left;
}
.justify-content-right{
	justify-content: right;
}


.container{
	display: grid;
	grid-template-columns: repeat(options.$col_max_amount,minmax(0, 1fr));
	grid-template-rows: repeat(options.$col_max_amount,minmax(0, 1fr));
}


[class*="col-"],.col{
	grid-column: span var(--col-span,1);
}

[class*="row-"],.row{
	grid-row: span var(--row-span,1);
}
.f-row >[class*="col-"]{
	flex-shrink: 0;
	flex: 0;
	flex-basis: unset;
	min-width: calc( ((100% / var(--grid-divisions)) * var(--col-span)));
}
.f-row >.col{
	flex: 1;
	flex-basis: unset;
	min-width: auto;
}


@mixin col-gen($breakpoint : "" ){

	@for $i from 1 through 12{
		@if $breakpoint == "" {
			.col-#{$i}{
				--col-span : #{$i};
			}
		}@else{
			.col-#{$breakpoint}-#{$i}{
				--col-span : #{$i};
			}
		}
	}
}

@mixin row-gen($breakpoint : "" ){

	@for $i from 1 through 12{
		@if $breakpoint == "" {
			.row-#{$i}{
				--row-span : #{$i};
			}
		}@else{
			.row-#{$breakpoint}-#{$i}{
				--row-span : #{$i};
			}
		}
	}
}


@include col-gen();

@include row-gen();


@mixin hidden{
	display: none;
}
.hidden{
	@include hidden();
}

@each $name, $size, $max_size in options.$sizes{
	@if $size != 0px{
		@media screen and (width >= $size) {

			@include col-gen($name);

			@include row-gen($name);

			.hidden-from-#{$name} {
				@include hidden();
			}
		}
	}
	@media screen and (width >= $size) and (width <= $max_size) {
		.hidden-only-#{$name} {
			@include hidden();
		}
	}
}
